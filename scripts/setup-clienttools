#!/bin/bash
set -eu

BASE=$(readlink -f $(dirname $0)/..)

[ -d $BASE/openstack-tools ] && exit 0

virtualenv $BASE/openstack-tools
set +u
. $BASE/openstack-tools/bin/activate
set -u
pip install -U python-novaclient python-glanceclient python-heatclient python-keystoneclient

for tool in `echo nova glance heat keystone`; do
  ln -s $BASE/openstack-tools/bin/$tool scripts/$tool ;
done
echo "Installed openstack client tool symlinks in $BASE/scripts"
